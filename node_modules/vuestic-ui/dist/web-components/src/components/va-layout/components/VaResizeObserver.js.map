{"version":3,"file":"VaResizeObserver.js","sources":["../../../../../../src/components/va-layout/components/VaResizeObserver.vue"],"sourcesContent":["<template>\n  <div class=\"va-resize-observer\" ref=\"el\">\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'VaLayoutSizeKeeper',\n\n  emits: {\n    resize: (size: DOMRectReadOnly) => true,\n  },\n\n  setup (props, { emit }) {\n    const el = ref()\n\n    let observer: ResizeObserver | null = null\n\n    watch(el, (newEl) => {\n      if (observer) {\n        observer.disconnect()\n      }\n\n      observer = new ResizeObserver(([el]) => {\n        emit('resize', el.contentRect)\n      })\n\n      observer.observe(newEl)\n    })\n\n    return {\n      el,\n    }\n  },\n})\n</script>\n"],"names":[],"mappings":";;;MACqC,aAAK;AAAA,EAAA,OAAA;AAAA;;SACtC,YAAQ,MAAA,QAAA,QAAA,QAAA,OAAA,UAAA;;;;;;"}