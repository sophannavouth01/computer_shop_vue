{"version":3,"file":"VaResizeObserver.vue_vue_type_script_lang.mjs","sources":["../../../../../../src/components/va-layout/components/VaResizeObserver.vue"],"sourcesContent":["<template>\n  <div class=\"va-resize-observer\" ref=\"el\">\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'VaLayoutSizeKeeper',\n\n  emits: {\n    resize: (size: DOMRectReadOnly) => true,\n  },\n\n  setup (props, { emit }) {\n    const el = ref()\n\n    let observer: ResizeObserver | null = null\n\n    watch(el, (newEl) => {\n      if (observer) {\n        observer.disconnect()\n      }\n\n      observer = new ResizeObserver(([el]) => {\n        emit('resize', el.contentRect)\n      })\n\n      observer.observe(newEl)\n    })\n\n    return {\n      el,\n    }\n  },\n})\n</script>\n"],"names":["el"],"mappings":";AASA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EAEN,OAAO;AAAA,IACL,QAAQ,CAAC,SAA0B;AAAA,EACrC;AAAA,EAEA,MAAO,OAAO,EAAE,QAAQ;AACtB,UAAM,KAAK;AAEX,QAAI,WAAkC;AAEhC,UAAA,IAAI,CAAC,UAAU;AACnB,UAAI,UAAU;AACZ,iBAAS,WAAW;AAAA,MACtB;AAEA,iBAAW,IAAI,eAAe,CAAC,CAACA,GAAE,MAAM;AACjC,aAAA,UAAUA,IAAG,WAAW;AAAA,MAAA,CAC9B;AAED,eAAS,QAAQ,KAAK;AAAA,IAAA,CACvB;AAEM,WAAA;AAAA,MACL;AAAA,IAAA;AAAA,EAEJ;AACF,CAAC;"}