{"version":3,"file":"VaColorInput.mjs","sources":["../../../../../src/components/va-color-input/VaColorInput.vue"],"sourcesContent":["<template>\n  <div class=\"va-color-input\">\n    <va-input\n      v-bind=\"vaInputProps\"\n      v-model=\"valueComputed\"\n      class=\"va-color-input__input\"\n      :tabindex=\"tabIndexComputed\"\n    >\n      <template #appendInner>\n        <va-color-indicator\n          class=\"va-color-input__dot\"\n          role=\"button\"\n          :aria-label=\"tp($props.ariaOpenColorPickerLabel)\"\n          :aria-disabled=\"$props.disabled\"\n          :tabindex=\"tabIndexComputed\"\n          :color=\"valueComputed\"\n          :indicator=\"$props.indicator\"\n          size=\"16px\"\n          @click=\"callPickerDialog\"\n          @keydown.space=\"callPickerDialog\"\n          @keydown.enter=\"callPickerDialog\"\n        />\n      </template>\n    </va-input>\n    <input\n      ref=\"colorPicker\"\n      type=\"color\"\n      class=\"va-color-input__hidden-input\"\n      aria-hidden=\"true\"\n      tabindex=\"-1\"\n      v-model=\"inputValue\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, shallowRef, computed } from 'vue'\n\nimport { useComponentPresetProp, useStateful, useStatefulProps, useStatefulEmits, useTranslation } from '../../composables'\n\nimport { VaColorIndicator } from '../va-color-indicator'\nimport { VaInput } from '../va-input'\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\nimport throttle from 'lodash/throttle'\n\nconst VaInputProps = extractComponentProps(VaInput)\n\nexport default defineComponent({\n  name: 'VaColorInput',\n  components: {\n    VaInput,\n    VaColorIndicator,\n  },\n  emits: [...useStatefulEmits],\n  props: {\n    ...VaInputProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: { type: String, default: null },\n    disabled: { type: Boolean, default: false },\n    indicator: {\n      type: String as PropType<'dot' | 'square'>,\n      default: 'dot',\n      validator: (value: string) => ['dot', 'square'].includes(value),\n    },\n    ariaOpenColorPickerLabel: { type: String, default: '$t:openColorPicker' },\n  },\n  setup: (props, { emit }) => {\n    const colorPicker = shallowRef<HTMLInputElement>()\n\n    const { valueComputed } = useStateful(props, emit)\n\n    const callPickerDialog = () => !props.disabled && colorPicker.value?.click()\n\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0)\n\n    const inputValue = computed({\n      get: () => props.modelValue,\n      set: throttle((value) => emit('update:modelValue', value), 500),\n    })\n\n    return {\n      ...useTranslation(),\n      valueComputed,\n      inputValue,\n      callPickerDialog,\n      colorPicker,\n      tabIndexComputed,\n      vaInputProps: filterComponentProps(VaInputProps),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.va-color-input {\n  display: flex;\n  align-items: center !important;\n\n  .form-group {\n    margin-bottom: 0;\n  }\n\n  &__input {\n    margin-bottom: 0;\n    min-width: 5.6rem;\n\n    &__pointer {\n      cursor: pointer;\n    }\n  }\n\n  &__hidden-input {\n    visibility: hidden;\n    width: 0;\n    height: 0;\n    overflow: hidden;\n    position: absolute;\n    pointer-events: none;\n  }\n}\n</style>\n"],"names":["_resolveComponent","_createElementBlock","_createVNode","_mergeProps","_withCtx","_withDirectives","_createElementVNode"],"mappings":";;;;;;;AACE,QAAA,sBAAAA,iBA+BM,UA/BN;mBAG0B,GAAAC,mBAAA,OAAA,YAAA;AAAA,IAAbC,YAAA,qBAAAC,WAAA,KAAA,cAAA;AAAA,MACT,YAAM,KAAA;AAAA,MACL,uBAAU,OAAgB,CAAA,MAAA,OAAA,CAAA,IAAA,CAAA,WAAA,KAAA,gBAAA;AAAA,MAAA,OAAA;AAAA,MAEhB,UAAW,KAAA;AAAA,IAAA,CACpB,GAAA;AAAA,MACQ,aAAAC,QAAA,MAAA;AAAA,QAAAF,YACD,+BAAQ;AAAA,UACZ,OAAA;AAAA,UACA,MAAA;AAAA,UACA,cAAU,KAAgB,GAAA,KAAA,OAAA,wBAAA;AAAA,UAC1B,iBAAO,KAAa,OAAA;AAAA,UACpB,UAAS,KAAE;AAAA,UACZ,OAAK,KAAM;AAAA,UACV,WAAO,KAAA,OAAA;AAAA,UACP,MAAA;AAAA,UAAe,SAAA,KAAA;AAAA,UAAA,WAAA;AAAA;;;;;;IAMpB,GAAA,IAAI,CAAa,cAAA,UAAA,CAAA;AAAA,IACLG,eAAAC,mBAAA,SAAA;AAAA,MACZ,KAAK;AAAA,MACL,MAAA;AAAA,MACA,OAAA;AAAA,MAAA,eAAA;AAAA;6BACS,OAAU,CAAA,MAAA,OAAA,CAAA,IAAA,CAAA,WAAA,KAAA,aAAA;AAAA,IAAA,GAAA,MAAA,GAAA,GAAA;AAAA;;;;;"}